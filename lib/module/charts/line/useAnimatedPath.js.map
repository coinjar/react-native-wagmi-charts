{"version":3,"sources":["useAnimatedPath.ts"],"names":["useAnimatedProps","useAnimatedReaction","useSharedValue","withTiming","usePrevious","interpolatePath","useAnimatedPath","enabled","path","transition","previousPath","_","previous","value","animatedProps","d","pathInterpolator"],"mappings":"AAAA,SACEA,gBADF,EAEEC,mBAFF,EAGEC,cAHF,EAIEC,UAJF,QAKO,yBALP;AAOA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,eAAT,QAAgC,SAAhC;AAEA,eAAe,SAASC,eAAT,CAAyB;AACtCC,EAAAA,OAAO,GAAG,IAD4B;AAEtCC,EAAAA;AAFsC,CAAzB,EAMZ;AACD,QAAMC,UAAU,GAAGP,cAAc,CAAC,CAAD,CAAjC;AAEA,QAAMQ,YAAY,GAAGN,WAAW,CAACI,IAAD,CAAhC;AAEAP,EAAAA,mBAAmB,CACjB,MAAM;AACJ,WAAOO,IAAP;AACD,GAHgB,EAIjB,CAACG,CAAD,EAAIC,QAAJ,KAAiB;AACf,QAAIA,QAAJ,EAAc;AACZH,MAAAA,UAAU,CAACI,KAAX,GAAmB,CAAnB;AACAJ,MAAAA,UAAU,CAACI,KAAX,GAAmBV,UAAU,CAAC,CAAD,CAA7B;AACD;AACF,GATgB,EAUjB,CAACK,IAAD,CAViB,CAAnB;AAaA,QAAMM,aAAa,GAAGd,gBAAgB,CAAC,MAAM;AAC3C,QAAIe,CAAC,GAAGP,IAAI,IAAI,EAAhB;;AACA,QAAIE,YAAY,IAAIH,OAApB,EAA6B;AAC3B,YAAMS,gBAAgB,GAAGX,eAAe,CAACK,YAAD,EAAeF,IAAf,EAAqB,IAArB,CAAxC;AACAO,MAAAA,CAAC,GAAGC,gBAAgB,CAACP,UAAU,CAACI,KAAZ,CAApB;AACD;;AACD,WAAO;AACLE,MAAAA;AADK,KAAP;AAGD,GATqC,CAAtC;AAWA,SAAO;AAAED,IAAAA;AAAF,GAAP;AACD","sourcesContent":["import {\n  useAnimatedProps,\n  useAnimatedReaction,\n  useSharedValue,\n  withTiming,\n} from 'react-native-reanimated';\n\nimport { usePrevious } from '../../utils';\nimport { interpolatePath } from './utils';\n\nexport default function useAnimatedPath({\n  enabled = true,\n  path,\n}: {\n  enabled?: boolean;\n  path: string;\n}) {\n  const transition = useSharedValue(0);\n\n  const previousPath = usePrevious(path);\n\n  useAnimatedReaction(\n    () => {\n      return path;\n    },\n    (_, previous) => {\n      if (previous) {\n        transition.value = 0;\n        transition.value = withTiming(1);\n      }\n    },\n    [path]\n  );\n\n  const animatedProps = useAnimatedProps(() => {\n    let d = path || '';\n    if (previousPath && enabled) {\n      const pathInterpolator = interpolatePath(previousPath, path, null);\n      d = pathInterpolator(transition.value);\n    }\n    return {\n      d,\n    };\n  });\n\n  return { animatedProps };\n}\n"]}