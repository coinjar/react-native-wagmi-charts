{"version":3,"sources":["usePrice.ts"],"names":["useDerivedValue","formatPrice","useLineChart","useLineChartPrice","format","precision","currencySymbol","currentIndex","data","float","value","price","toString","formatted","formattedPrice"],"mappings":"AAAA,SAASA,eAAT,QAAgC,yBAAhC;AAEA,SAASC,WAAT,QAA4B,aAA5B;AAEA,SAASC,YAAT,QAA6B,gBAA7B;AAEA,OAAO,SAASC,iBAAT,CAA2B;AAChCC,EAAAA,MADgC;AAEhCC,EAAAA,SAAS,GAAG,CAFoB;AAGhCC,EAAAA;AAHgC,IAIkD,EAJ7E,EAIiF;AACtF,QAAM;AAAEC,IAAAA,YAAF;AAAgBC,IAAAA;AAAhB,MAAyBN,YAAY,EAA3C;AAEA,QAAMO,KAAK,GAAGT,eAAe,CAAC,MAAM;AAClC,QAAI,OAAOO,YAAY,CAACG,KAApB,KAA8B,WAA9B,IAA6CH,YAAY,CAACG,KAAb,KAAuB,CAAC,CAAzE,EACE,OAAO,EAAP;AACF,QAAIC,KAAK,GAAG,CAAZ;AACAA,IAAAA,KAAK,GAAGH,IAAI,CAACD,YAAY,CAACG,KAAd,CAAJ,CAAyBA,KAAjC;AACA,WAAOC,KAAK,CAACC,QAAN,EAAP;AACD,GAN4B,CAA7B;AAOA,QAAMC,SAAS,GAAGb,eAAe,CAAC,MAAM;AACtC,QAAIU,KAAK,GAAGD,KAAK,CAACC,KAAN,IAAe,EAA3B;AACA,UAAMI,cAAc,GAAGJ,KAAK,GAAGT,WAAW,CAAC;AAAES,MAAAA;AAAF,KAAD,CAAd,GAA4B,EAAxD;AACA,WAAON,MAAM,GACTA,MAAM,CAAC;AAAEM,MAAAA,KAAF;AAASG,MAAAA,SAAS,EAAEC,cAApB;AAAoCT,MAAAA,SAApC;AAA+CC,MAAAA;AAA/C,KAAD,CADG,GAETQ,cAFJ;AAGD,GANgC,CAAjC;AAQA,SAAO;AAAEJ,IAAAA,KAAK,EAAED,KAAT;AAAgBI,IAAAA;AAAhB,GAAP;AACD","sourcesContent":["import { useDerivedValue } from 'react-native-reanimated';\n\nimport { formatPrice } from '../../utils';\nimport type { TFormatterFn } from '../candle/types';\nimport { useLineChart } from './useLineChart';\n\nexport function useLineChartPrice({\n  format,\n  precision = 2,\n  currencySymbol\n}: { format?: TFormatterFn<string>; precision?: number, currencySymbol?: string } = {}) {\n  const { currentIndex, data } = useLineChart();\n\n  const float = useDerivedValue(() => {\n    if (typeof currentIndex.value === 'undefined' || currentIndex.value === -1)\n      return '';\n    let price = 0;\n    price = data[currentIndex.value].value;\n    return price.toString();\n  });\n  const formatted = useDerivedValue(() => {\n    let value = float.value || '';\n    const formattedPrice = value ? formatPrice({ value }) : '';\n    return format\n      ? format({ value, formatted: formattedPrice, precision, currencySymbol })\n      : formattedPrice;\n  });\n\n  return { value: float, formatted };\n}\n"]}