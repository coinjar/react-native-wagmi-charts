{"version":3,"sources":["useDatetime.ts"],"names":["useDerivedValue","formatDatetime","useCandleData","useCandlestickChartDatetime","format","locale","options","candle","timestamp","value","timestampString","toString","formatted","formattedDatetime"],"mappings":"AAAA,SAAmBA,eAAnB,QAA0C,yBAA1C;AAEA,SAASC,cAAT,QAA+B,aAA/B;AAEA,SAASC,aAAT,QAA8B,iBAA9B;AAEA,OAAO,SAASC,2BAAT,CAAqC;AAC1CC,EAAAA,MAD0C;AAE1CC,EAAAA,MAF0C;AAG1CC,EAAAA;AAH0C,IAQxC,EARG,EAWL;AACA,QAAMC,MAAM,GAAGL,aAAa,EAA5B;AAEA,QAAMM,SAAS,GAAGR,eAAe,CAAC,MAAM;AACtC,WAAOO,MAAM,CAACE,KAAP,CAAaD,SAApB;AACD,GAFgC,CAAjC;AAIA,QAAME,eAAe,GAAGV,eAAe,CAAC,MAAM;AAC5C,QAAIQ,SAAS,CAACC,KAAV,KAAoB,CAAC,CAAzB,EAA4B,OAAO,EAAP;AAC5B,WAAOD,SAAS,CAACC,KAAV,CAAgBE,QAAhB,EAAP;AACD,GAHsC,CAAvC;AAKA,QAAMC,SAAS,GAAGZ,eAAe,CAAC,MAAM;AACtC,QAAIQ,SAAS,CAACC,KAAV,KAAoB,CAAC,CAAzB,EAA4B,OAAO,EAAP;AAC5B,UAAMI,iBAAiB,GAAGZ,cAAc,CAAC;AACvCQ,MAAAA,KAAK,EAAED,SAAS,CAACC,KADsB;AAEvCJ,MAAAA,MAFuC;AAGvCC,MAAAA;AAHuC,KAAD,CAAxC;AAKA,WAAOF,MAAM,GACTA,MAAM,CAAC;AAAEK,MAAAA,KAAK,EAAED,SAAS,CAACC,KAAnB;AAA0BG,MAAAA,SAAS,EAAEC;AAArC,KAAD,CADG,GAETA,iBAFJ;AAGD,GAVgC,CAAjC;AAYA,SAAO;AAAEJ,IAAAA,KAAK,EAAEC,eAAT;AAA0BE,IAAAA;AAA1B,GAAP;AACD","sourcesContent":["import Animated, { useDerivedValue } from 'react-native-reanimated';\n\nimport { formatDatetime } from '../../utils';\nimport type { TFormatterFn } from './types';\nimport { useCandleData } from './useCandleData';\n\nexport function useCandlestickChartDatetime({\n  format,\n  locale,\n  options,\n}: {\n  format?: TFormatterFn<number>;\n  locale?: string;\n  options?: { [key: string]: string };\n} = {}): {\n  value: Readonly<Animated.SharedValue<string>>;\n  formatted: Readonly<Animated.SharedValue<string>>;\n} {\n  const candle = useCandleData();\n\n  const timestamp = useDerivedValue(() => {\n    return candle.value.timestamp;\n  });\n\n  const timestampString = useDerivedValue(() => {\n    if (timestamp.value === -1) return '';\n    return timestamp.value.toString();\n  });\n\n  const formatted = useDerivedValue(() => {\n    if (timestamp.value === -1) return '';\n    const formattedDatetime = formatDatetime({\n      value: timestamp.value,\n      locale,\n      options,\n    });\n    return format\n      ? format({ value: timestamp.value, formatted: formattedDatetime })\n      : formattedDatetime;\n  });\n\n  return { value: timestampString, formatted };\n}\n"]}