{"version":3,"sources":["utils.ts"],"names":["getDomain","rows","values","map","high","low","flat","min","Math","max","getY","value","domain","maxHeight","Extrapolate","CLAMP","getHeight","getPrice","y","reverse"],"mappings":";;;;;;;;;;AAAA;;AAIO,SAASA,SAAT,CAAmBC,IAAnB,EAAgE;AACrE;;AACA,QAAMC,MAAM,GAAGD,IAAI,CAACE,GAAL,CAAS,CAAC;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,GAAD,KAAmB,CAACD,IAAD,EAAOC,GAAP,CAA5B,EAAyCC,IAAzC,EAAf;AACA,QAAMC,GAAG,GAAGC,IAAI,CAACD,GAAL,CAAS,GAAGL,MAAZ,CAAZ;AACA,QAAMO,GAAG,GAAGD,IAAI,CAACC,GAAL,CAAS,GAAGP,MAAZ,CAAZ;AACA,SAAO,CAACK,GAAG,GAAG,CAACE,GAAG,GAAGF,GAAP,IAAc,KAArB,EAA4BE,GAAG,GAAG,CAACA,GAAG,GAAGF,GAAP,IAAc,KAAhD,CAAP;AACD;;AAEM,SAASG,IAAT,CAAc;AACnBC,EAAAA,KADmB;AAEnBC,EAAAA,MAFmB;AAGnBC,EAAAA;AAHmB,CAAd,EAQJ;AACD;;AACA,SAAO,wCAAYF,KAAZ,EAAmBC,MAAnB,EAA2B,CAACC,SAAD,EAAY,CAAZ,CAA3B,EAA2CC,mCAAYC,KAAvD,CAAP;AACD;;AAEM,SAASC,SAAT,CAAmB;AACxBL,EAAAA,KADwB;AAExBC,EAAAA,MAFwB;AAGxBC,EAAAA;AAHwB,CAAnB,EAQJ;AACD;;AACA,SAAO,wCACLF,KADK,EAEL,CAAC,CAAD,EAAIH,IAAI,CAACC,GAAL,CAAS,GAAGG,MAAZ,IAAsBJ,IAAI,CAACD,GAAL,CAAS,GAAGK,MAAZ,CAA1B,CAFK,EAGL,CAAC,CAAD,EAAIC,SAAJ,CAHK,EAILC,mCAAYC,KAJP,CAAP;AAMD;;AAEM,SAASE,QAAT,CAAkB;AACvBC,EAAAA,CADuB;AAEvBN,EAAAA,MAFuB;AAGvBC,EAAAA;AAHuB,CAAlB,EAQJ;AACD;;AACA,MAAIK,CAAC,KAAK,CAAC,CAAX,EAAc,OAAO,CAAC,CAAR;AACd,SAAO,wCAAYA,CAAZ,EAAe,CAAC,CAAD,EAAIL,SAAJ,CAAf,EAA+BD,MAAM,CAACO,OAAP,EAA/B,EAAiDL,mCAAYC,KAA7D,CAAP;AACD","sourcesContent":["import { interpolate, Extrapolate } from 'react-native-reanimated';\n\nimport type { TCandle, TDomain } from './types';\n\nexport function getDomain(rows: TCandle[]): [min: number, max: number] {\n  'worklet';\n  const values = rows.map(({ high, low }) => [high, low]).flat();\n  const min = Math.min(...values);\n  const max = Math.max(...values);\n  return [min - (max - min) * 0.025, max + (max - min) * 0.025];\n}\n\nexport function getY({\n  value,\n  domain,\n  maxHeight,\n}: {\n  value: number;\n  domain: TDomain;\n  maxHeight: number;\n}) {\n  'worklet';\n  return interpolate(value, domain, [maxHeight, 0], Extrapolate.CLAMP);\n}\n\nexport function getHeight({\n  value,\n  domain,\n  maxHeight,\n}: {\n  value: number;\n  domain: TDomain;\n  maxHeight: number;\n}) {\n  'worklet';\n  return interpolate(\n    value,\n    [0, Math.max(...domain) - Math.min(...domain)],\n    [0, maxHeight],\n    Extrapolate.CLAMP\n  );\n}\n\nexport function getPrice({\n  y,\n  domain,\n  maxHeight,\n}: {\n  y: number;\n  domain: TDomain;\n  maxHeight: number;\n}) {\n  'worklet';\n  if (y === -1) return -1;\n  return interpolate(y, [0, maxHeight], domain.reverse(), Extrapolate.CLAMP);\n}\n"]}